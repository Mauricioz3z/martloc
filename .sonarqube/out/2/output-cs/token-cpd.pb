Œd
VC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\AccountController.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Controllers $
{ 
public 

class 
AccountController "
:# $

Controller% /
{ 
private 
UserManager 
< 
Usuario #
># $
_userManager% 1
{2 3
get4 7
;7 8
}9 :
private 
SignInManager 
< 
Usuario %
>% &
_signInManager' 5
{6 7
get8 ;
;; <
}= >
private 
readonly 
IEmailSender %
_emailSender& 2
;2 3
public 
AccountController  
(  !
UserManager! ,
<, -
Usuario- 4
>4 5
UserManager6 A
,A B
SignInManagerC P
<P Q
UsuarioQ X
>X Y
SignInManagerZ g
,g h
IEmailSenderi u
EmailSender	v Å
)
Å Ç
{ 	
_userManager 
= 
UserManager &
;& '
_signInManager 
= 
SignInManager *
;* +
_emailSender 
= 
EmailSender &
;& '
} 	
[ 	
BindProperty	 
] 
public 

InputModel 
Input 
{  !
get" %
;% &
set' *
;* +
}, -
[   	
BindProperty  	 
]   
public!! 
InputModelLogin!! 

InputLogin!! )
{!!* +
get!!, /
;!!/ 0
set!!1 4
;!!4 5
}!!6 7
public## 
class## 

InputModel## 
{$$ 	
[%% 
Required%% 
(%% 
ErrorMessage%% "
=%%# $
$str%%% =
)%%= >
]%%> ?
[&& 
EmailAddress&& 
]&& 
['' 
Display'' 
('' 
Name'' 
='' 
$str'' #
)''# $
]''$ %
public(( 
string(( 
Email(( 
{((  !
get((" %
;((% &
set((' *
;((* +
}((, -
[** 
Required** 
(** 
ErrorMessage** "
=**# $
$str**% <
)**< =
]**= >
[++ 
StringLength++ 
(++ 
$num++ 
,++ 
ErrorMessage++ +
=++, -
$str++. o
,++o p
MinimumLength++q ~
=	++ Ä
$num
++Å Ç
)
++Ç É
]
++É Ñ
[,, 
DataType,, 
(,, 
DataType,, 
.,, 
Password,, '
),,' (
],,( )
[-- 
Display-- 
(-- 
Name-- 
=-- 
$str-- #
)--# $
]--$ %
public.. 
string.. 
Password.. "
{..# $
get..% (
;..( )
set..* -
;..- .
}../ 0
[00 
DataType00 
(00 
DataType00 
.00 
Password00 '
)00' (
]00( )
[11 
Display11 
(11 
Name11 
=11 
$str11 .
)11. /
]11/ 0
[22 
Compare22 
(22 
$str22 
,22  
ErrorMessage22! -
=22. /
$str220 I
)22I J
]22J K
public33 
string33 
ConfirmPassword33 )
{33* +
get33, /
;33/ 0
set331 4
;334 5
}336 7
}44 	
public77 
class77 
InputModelLogin77 $
{88 	
[99 
Required99 
(99 
ErrorMessage99 "
=99# $
$str99% =
)99= >
]99> ?
[:: 
EmailAddress:: 
]:: 
[<< 
Display<< 
(<< 
Name<< 
=<< 
$str<< #
)<<# $
]<<$ %
public== 
string== 
Email== 
{==  !
get==" %
;==% &
set==' *
;==* +
}==, -
[?? 
Required?? 
(?? 
ErrorMessage?? "
=??# $
$str??% <
)??< =
]??= >
[@@ 
DataType@@ 
(@@ 
DataType@@ 
.@@ 
Password@@ '
)@@' (
]@@( )
[AA 
DisplayAA 
(AA 
NameAA 
=AA 
$strAA #
)AA# $
]AA$ %
publicBB 
stringBB 
PasswordBB "
{BB# $
getBB% (
;BB( )
setBB* -
;BB- .
}BB/ 0
}EE 	
[II 	
HttpGetII	 
]II 
publicJJ 
IActionResultJJ 
RegisterJJ %
(JJ% &
)JJ& '
{JJ( )
returnMM 
ViewMM 
(MM 
)MM 
;MM 
}NN 	
[QQ 	
HttpPostQQ	 
]QQ 
publicRR 
asyncRR 
TaskRR 
<RR 
IActionResultRR '
>RR' (
RegisterRR) 1
(RR1 2
stringRR2 8
	returnUrlRR9 B
)RRB C
{SS 	
	returnUrlUU 
??=UU 
UrlUU 
.UU 
ContentUU %
(UU% &
$strUU& *
)UU* +
;UU+ ,
ifWW 
(WW 

ModelStateWW 
.WW 
IsValidWW "
)WW" #
{XX 
varYY 
userYY 
=YY 
newYY 
UsuarioYY &
{YY' (
UserNameYY) 1
=YY2 3
InputYY4 9
.YY9 :
EmailYY: ?
,YY? @
EmailYYA F
=YYG H
InputYYI N
.YYN O
EmailYYO T
}YYU V
;YYV W
varZZ 
resultZZ 
=ZZ 
awaitZZ "
_userManagerZZ# /
.ZZ/ 0
CreateAsyncZZ0 ;
(ZZ; <
userZZ< @
,ZZ@ A
InputZZB G
.ZZG H
PasswordZZH P
)ZZP Q
;ZZQ R
if[[ 
([[ 
result[[ 
.[[ 
	Succeeded[[ $
)[[$ %
{\\ 
var__ 
code__ 
=__ 
await__ $
_userManager__% 1
.__1 2/
#GenerateEmailConfirmationTokenAsync__2 U
(__U V
user__V Z
)__Z [
;__[ \
code`` 
=`` 
WebEncoders`` &
.``& '
Base64UrlEncode``' 6
(``6 7
Encoding``7 ?
.``? @
UTF8``@ D
.``D E
GetBytes``E M
(``M N
code``N R
)``R S
)``S T
;``T U
varaa 
callbackUrlaa #
=aa$ %
Urlaa& )
.aa) *
Pageaa* .
(aa. /
$strbb /
,bb/ 0
pageHandlercc #
:cc# $
nullcc% )
,cc) *
valuesdd 
:dd 
newdd  #
{dd$ %
areadd& *
=dd+ ,
$strdd- 7
,dd7 8
userIddd9 ?
=dd@ A
userddB F
.ddF G
IdddG I
,ddI J
codeddK O
=ddP Q
codeddR V
}ddW X
,ddX Y
protocolee  
:ee  !
Requestee" )
.ee) *
Schemeee* 0
)ee0 1
;ee1 2
awaitgg 
_emailSendergg &
.gg& '
SendEmailAsyncgg' 5
(gg5 6
Inputgg6 ;
.gg; <
Emailgg< A
,ggA B
$strggC W
,ggW X
$"hh 4
(Please confirm your account by <a href='hh B
{hhB C
HtmlEncoderhhC N
.hhN O
DefaulthhO V
.hhV W
EncodehhW ]
(hh] ^
callbackUrlhh^ i
)hhi j
}hhj k 
'>clicking here</a>.hhk 
"	hh Ä
)
hhÄ Å
;
hhÅ Ç
ifjj 
(jj 
_userManagerjj $
.jj$ %
Optionsjj% ,
.jj, -
SignInjj- 3
.jj3 4#
RequireConfirmedAccountjj4 K
)jjK L
{kk 
returnll 
RedirectToPagell -
(ll- .
$strll. D
,llD E
newllF I
{llJ K
emailllL Q
=llR S
InputllT Y
.llY Z
EmailllZ _
}ll` a
)lla b
;llb c
}mm 
elsenn 
{oo 
awaitpp 
_signInManagerpp ,
.pp, -
SignInAsyncpp- 8
(pp8 9
userpp9 =
,pp= >
isPersistentpp? K
:ppK L
falseppM R
)ppR S
;ppS T
returnqq 
LocalRedirectqq ,
(qq, -
	returnUrlqq- 6
)qq6 7
;qq7 8
}rr 
}ss 
foreachtt 
(tt 
vartt 
errortt "
intt# %
resulttt& ,
.tt, -
Errorstt- 3
)tt3 4
{uu 

ModelStatevv 
.vv 
AddModelErrorvv ,
(vv, -
stringvv- 3
.vv3 4
Emptyvv4 9
,vv9 :
errorvv; @
.vv@ A
DescriptionvvA L
)vvL M
;vvM N
}ww 
}xx 
return{{ 
View{{ 
({{ 
){{ 
;{{ 
}|| 	
[
ÅÅ 	
HttpPost
ÅÅ	 
]
ÅÅ 
public
ÇÇ 
async
ÇÇ 
Task
ÇÇ 
<
ÇÇ 
IActionResult
ÇÇ '
>
ÇÇ' (
Login
ÇÇ) .
(
ÇÇ. /
string
ÇÇ/ 5
	returnUrl
ÇÇ6 ?
)
ÇÇ? @
{
ÉÉ 	

ModelState
àà 
.
àà 
Clear
àà 
(
àà 
)
àà 
;
àà 
if
ãã 
(
ãã 

ModelState
ãã 
.
ãã 
IsValid
ãã "
)
ãã" #
{
åå 
var
çç 
result
çç 
=
çç 
await
çç "
_signInManager
çç# 1
.
çç1 2!
PasswordSignInAsync
çç2 E
(
ççE F

InputLogin
ççF P
.
ççP Q
Email
ççQ V
,
ççV W

InputLogin
ççX b
.
ççb c
Password
ççc k
,
ççk l
false
ççm r
,
ççr s
false
ççt y
)
ççy z
;
ççz {
if
êê 
(
êê 
result
êê 
.
êê 
	Succeeded
êê $
)
êê$ %
{
ëë 
if
íí 
(
íí 
	returnUrl
íí !
==
íí" $
null
íí% )
)
íí) *
return
ìì 
LocalRedirect
ìì ,
(
ìì, -
$str
ìì- 4
)
ìì4 5
;
ìì5 6
else
îî 
return
ïï 
LocalRedirect
ïï ,
(
ïï, -
	returnUrl
ïï- 6
)
ïï6 7
;
ïï7 8
}
ññ 
else
óó 
{
òò 
ViewBag
ôô 
.
ôô 
Email
ôô !
=
ôô" #

InputLogin
ôô$ .
.
ôô. /
Email
ôô/ 4
;
ôô4 5

ModelState
öö 
.
öö 
AddModelError
öö ,
(
öö, -
$str
öö- 3
,
öö3 4
$str
öö5 S
)
ööS T
;
ööT U
}
úú 
}
ùù 
return
ûû 
View
ûû 
(
ûû 
)
ûû 
;
ûû 
}
•• 	
[
©© 	
HttpGet
©©	 
]
©© 
public
™™ 
IActionResult
™™ 
Login
™™ "
(
™™" #
)
™™# $
{
´´ 	
return
≠≠ 
View
≠≠ 
(
≠≠ 
)
≠≠ 
;
≠≠ 
}
ÆÆ 	
[
∞∞ 	
HttpGet
∞∞	 
]
∞∞ 
public
±± 
IActionResult
±± 
Proibido
±± %
(
±±% &
)
±±& '
{
≤≤ 	
return
¥¥ 
View
¥¥ 
(
¥¥ 
)
¥¥ 
;
¥¥ 
}
µµ 	
[
ππ 
HttpPost
ππ 
]
ππ 
public
∫∫ 
IActionResult
∫∫ 
Logout
∫∫ #
(
∫∫# $
)
∫∫$ %
{
ªª 	
_signInManager
ææ 
.
ææ 
SignOutAsync
ææ '
(
ææ' (
)
ææ( )
;
ææ) *
return
øø 
LocalRedirect
øø  
(
øø  !
$str
øø! (
)
øø( )
;
øø) *
}
¿¿ 	
}
¬¬ 
}√√ ó 
VC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\ClienteController.cs
	namespace		 	

financeiro		
 
.		 
UI		 
.		 
Web		 
.		 
Controllers		 '
{

 
public 

class 
ClienteController "
:# $

Controller% /
{ 
private 
readonly 
IClienteServices )
_clienteServices* :
;: ;
public 
ClienteController  
(  !
IClienteServices! 1
clienteServices2 A
)A B
{ 	
_clienteServices 
= 
clienteServices .
;. /
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
Json 
( 
_clienteServices (
.( )
List) -
)- .
;. /
} 	
public 
ActionResult 
Details #
(# $
int$ '
id( *
)* +
{ 	
return 
Json 
( 
_clienteServices (
.( )

ObterPorId) 3
(3 4
id4 6
)6 7
)7 8
;8 9
}   	
public## 
ActionResult## 
Create## "
(##" #
)### $
{$$ 	
return%% 
View%% 
(%% 
)%% 
;%% 
}&& 	
[)) 	
HttpPost))	 
])) 
[** 	$
ValidateAntiForgeryToken**	 !
]**! "
public++ 
ActionResult++ 
Create++ "
(++" #
IFormCollection++# 2

collection++3 =
)++= >
{,, 	
try-- 
{.. 
return11 
RedirectToAction11 '
(11' (
nameof11( .
(11. /
Index11/ 4
)114 5
)115 6
;116 7
}22 
catch33 
{44 
return55 
View55 
(55 
)55 
;55 
}66 
}77 	
public:: 
ActionResult:: 
Edit::  
(::  !
int::! $
id::% '
)::' (
{;; 	
return<< 
View<< 
(<< 
)<< 
;<< 
}== 	
[@@ 	
HttpPost@@	 
]@@ 
[AA 	$
ValidateAntiForgeryTokenAA	 !
]AA! "
publicBB 
ActionResultBB 
EditBB  
(BB  !
intBB! $
idBB% '
,BB' (
IFormCollectionBB) 8

collectionBB9 C
)BBC D
{CC 	
tryDD 
{EE 
returnHH 
RedirectToActionHH '
(HH' (
nameofHH( .
(HH. /
IndexHH/ 4
)HH4 5
)HH5 6
;HH6 7
}II 
catchJJ 
{KK 
returnLL 
ViewLL 
(LL 
)LL 
;LL 
}MM 
}NN 	
publicQQ 
ActionResultQQ 
DeleteQQ "
(QQ" #
intQQ# &
idQQ' )
)QQ) *
{RR 	
returnSS 
ViewSS 
(SS 
)SS 
;SS 
}TT 	
[WW 	
HttpPostWW	 
]WW 
[XX 	$
ValidateAntiForgeryTokenXX	 !
]XX! "
publicYY 
ActionResultYY 
DeleteYY "
(YY" #
intYY# &
idYY' )
,YY) *
IFormCollectionYY+ :

collectionYY; E
)YYE F
{ZZ 	
try[[ 
{\\ 
return__ 
RedirectToAction__ '
(__' (
nameof__( .
(__. /
Index__/ 4
)__4 5
)__5 6
;__6 7
}`` 
catchaa 
{bb 
returncc 
Viewcc 
(cc 
)cc 
;cc 
}dd 
}ee 	
}ff 
}gg 
ZC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\EquipamentoController.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Controllers $
{		 
public

 

class

 !
EquipamentoController

 &
:

' (

Controller

) 3
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
Details #
(# $
int$ '
id( *
)* +
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
Create "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
[   	$
ValidateAntiForgeryToken  	 !
]  ! "
public!! 
ActionResult!! 
Create!! "
(!!" #
IFormCollection!!# 2

collection!!3 =
)!!= >
{"" 	
try## 
{$$ 
return'' 
RedirectToAction'' '
(''' (
nameof''( .
(''. /
Index''/ 4
)''4 5
)''5 6
;''6 7
}(( 
catch)) 
{** 
return++ 
View++ 
(++ 
)++ 
;++ 
},, 
}-- 	
public00 
ActionResult00 
Edit00  
(00  !
int00! $
id00% '
)00' (
{11 	
return22 
View22 
(22 
)22 
;22 
}33 	
[66 	
HttpPost66	 
]66 
[77 	$
ValidateAntiForgeryToken77	 !
]77! "
public88 
ActionResult88 
Edit88  
(88  !
int88! $
id88% '
,88' (
IFormCollection88) 8

collection889 C
)88C D
{99 	
try:: 
{;; 
return>> 
RedirectToAction>> '
(>>' (
nameof>>( .
(>>. /
Index>>/ 4
)>>4 5
)>>5 6
;>>6 7
}?? 
catch@@ 
{AA 
returnBB 
ViewBB 
(BB 
)BB 
;BB 
}CC 
}DD 	
publicGG 
ActionResultGG 
DeleteGG "
(GG" #
intGG# &
idGG' )
)GG) *
{HH 	
returnII 
ViewII 
(II 
)II 
;II 
}JJ 	
[MM 	
HttpPostMM	 
]MM 
[NN 	$
ValidateAntiForgeryTokenNN	 !
]NN! "
publicOO 
ActionResultOO 
DeleteOO "
(OO" #
intOO# &
idOO' )
,OO) *
IFormCollectionOO+ :

collectionOO; E
)OOE F
{PP 	
tryQQ 
{RR 
returnUU 
RedirectToActionUU '
(UU' (
nameofUU( .
(UU. /
IndexUU/ 4
)UU4 5
)UU5 6
;UU6 7
}VV 
catchWW 
{XX 
returnYY 
ViewYY 
(YY 
)YY 
;YY 
}ZZ 
}[[ 	
}\\ 
}]] ü
MC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\Exeption.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Controllers $
{ 
[ 
Serializable 
] 
internal 
class 
Exeption 
: 
	Exception '
{ 
public		 
Exeption		 
(		 
)		 
{

 	
} 	
public 
Exeption 
( 
string 
message &
)& '
:( )
base* .
(. /
message/ 6
)6 7
{ 	
} 	
public 
Exeption 
( 
string 
message &
,& '
	Exception( 1
innerException2 @
)@ A
:B C
baseD H
(H I
messageI P
,P Q
innerExceptionR `
)` a
{ 	
} 	
	protected 
Exeption 
( 
SerializationInfo ,
info- 1
,1 2
StreamingContext3 C
contextD K
)K L
:M N
baseO S
(S T
infoT X
,X Y
contextZ a
)a b
{ 	
} 	
} 
} Å
SC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\HomeController.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
. 
Controllers '
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
[ 	
	Authorize	 
( 
Policy 
= 
$str 2
)2 3
]3 4
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Privacy $
($ %
)% &
{ 	
return 
View 
( 
) 
; 
} 	
[!! 	
ResponseCache!!	 
(!! 
Duration!! 
=!!  !
$num!!" #
,!!# $
Location!!% -
=!!. /!
ResponseCacheLocation!!0 E
.!!E F
None!!F J
,!!J K
NoStore!!L S
=!!T U
true!!V Z
)!!Z [
]!![ \
public"" 
IActionResult"" 
Error"" "
(""" #
)""# $
{## 	
return$$ 
View$$ 
($$ 
new$$ 
ErrorViewModel$$ *
{$$+ ,
	RequestId$$- 6
=$$7 8
Activity$$9 A
.$$A B
Current$$B I
?$$I J
.$$J K
Id$$K M
??$$N P
HttpContext$$Q \
.$$\ ]
TraceIdentifier$$] l
}$$m n
)$$n o
;$$o p
}%% 	
}&& 
}'' µ
VC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\LocacaoController.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Controllers $
{ 
public 

class 
LocacaoController "
:# $

Controller% /
{ 
private 
readonly 
ILocacaoServices )
_locacaoServices* :
;: ;
private 
readonly 
IMapper  
_mapper! (
;( )
public 
LocacaoController  
(  !
ILocacaoServices! 1
locacaoServices2 A
,A B
IMapperC J
mapperK Q
)Q R
{ 	
_locacaoServices 
= 
locacaoServices .
;. /
_mapper 
= 
mapper 
; 
} 
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Create #
(# $
)$ %
{ 	
return   
View   
(   
)   
;   
}!! 	
public%% 
IActionResult%% 
GetLocacoes%% (
(%%( )
)%%) *
{&& 	
var(( 
locacoes(( 
=(( 
_locacaoServices(( +
.((+ ,
List((, 0
.((0 1
Include((1 8
(((8 9
e((9 :
=>((; =
e((> ?
.((? @
Pessoa((@ F
)((F G
.))0 1
Include))1 8
())8 9
$str))9 S
)))S T
.))T U
ToList))U [
())[ \
)))\ ]
;))] ^
return** 
Json** 
(** 
new** 
{** 
data** "
=**# $
_mapper**% ,
.**, -
Map**- 0
<**0 1
List**1 5
<**5 6
LocacaoViewModel**6 F
>**F G
>**G H
(**H I
locacoes**I Q
)**Q R
}**S T
)**T U
;**U V
}++ 	
}-- 
}.. Í/
TC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\MarcaController.cs
	namespace

 	
martloc


 
.

 
UI

 
.

 
Web

 
.

 
Controllers

 $
{ 
[ 
	Authorize 
( 
Roles 
= 
$str 2
)2 3
]3 4
public 

class 
MarcaController  
:! "

Controller# -
{ 
private 
readonly 
IMarcaServices '
_marcaServices( 6
;6 7
private 
readonly 
IMapper  
_mapper! (
;( )
public 
MarcaController 
( 
IMarcaServices -
marcaServices. ;
,; <
IMapper= D
mapperE K
)K L
{ 	
_marcaServices 
= 
marcaServices *
;* +
_mapper 
= 
mapper 
; 
} 	
[ 	
	Authorize	 
( 
Policy 
= 
$str .
). /
]/ 0
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
	Authorize	 
( 
Policy 
= 
$str ,
), -
]- .
public 
ActionResult 
Create "
(" #
)# $
{ 	
return   
View   
(   
)   
;   
}!! 	
[## 	
HttpPost##	 
]## 
[$$ 	$
ValidateAntiForgeryToken$$	 !
]$$! "
[%% 	
	Authorize%%	 
(%% 
Policy%% 
=%% 
$str%% ,
)%%, -
]%%- .
public&& 
IActionResult&& 
Create&& #
(&&# $
MarcaViewModel&&$ 2
model&&3 8
)&&8 9
{'' 	
var**
 
marca** 
=** 
_mapper** 
.** 
Map** !
<**! "
Marca**" '
>**' (
(**( )
model**) .
)**. /
;**/ 0
try,, 
{-- 
_marcaServices.. 
... 
	Adicionar.. (
(..( )
marca..) .
)... /
;../ 0
return00 
Json00 
(00 
new00  
{00! "
resposta00# +
=00+ ,
$num00, -
}00- .
)00. /
;00/ 0
}11 
catch22 
(22 
Exeption22 
e22 
)22 
{33 
return55 
Json55 
(55 
new55 
{55  !
resposta55" *
=55+ ,
-55- .
$num55. /
}550 1
)551 2
;552 3
}66 
}77 	
[:: 	
HttpPost::	 
]:: 
[;; 	$
ValidateAntiForgeryToken;;	 !
];;! "
[<< 	
	Authorize<<	 
(<< 
Policy<< 
=<< 
$str<< -
)<<- .
]<<. /
public== 
int== 
Edit== 
(== 
MarcaViewModel== &
model==' ,
)==, -
{>> 	
var@@ 
marca@@ 
=@@ 
_mapper@@ 
.@@  
Map@@  #
<@@# $
Marca@@$ )
>@@) *
(@@* +
model@@+ 0
)@@0 1
;@@1 2
tryBB 
{CC 
_marcaServicesDD 
.DD 
	AtualizarDD (
(DD( )
marcaDD) .
)DD. /
;DD/ 0
returnFF 
$numFF 
;FF 
}GG 
catchHH 
(HH 
ExeptionHH 
eHH 
)HH 
{II 
returnJJ 
-JJ 
$numJJ 
;JJ 
}KK 
}LL 	
[OO 	
HttpPostOO	 
]OO 
[PP 	$
ValidateAntiForgeryTokenPP	 !
]PP! "
[QQ 	
	AuthorizeQQ	 
(QQ 
PolicyQQ 
=QQ 
$strQQ .
)QQ. /
]QQ/ 0
publicRR 
intRR 
DeleteRR 
(RR 
intRR 
idRR  
)RR  !
{SS 	
tryTT 
{UU 
varVV 
marcaVV 
=VV 
_marcaServicesVV )
.VV) *

ObterPorIdVV* 4
(VV4 5
idVV5 7
)VV7 8
;VV8 9
ifWW 
(WW 
marcaWW 
!=WW 
nullWW !
)WW! "
{WW# $
_marcaServicesXX "
.XX" #
RemoverXX# *
(XX* +
marcaXX+ 0
)XX0 1
;XX1 2
returnYY 
$numYY 
;YY 
}ZZ 
else[[ 
{[[ 
return[[ 
-[[ 
$num[[  
;[[  !
}[[" #
}\\ 
catch]] 
{^^ 
return__ 
-__ 
$num__ 
;__ 
}`` 
}aa 	
[cc 	
	Authorizecc	 
(cc 
Policycc 
=cc 
$strcc 0
)cc0 1
]cc1 2
publicdd 
ActionResultdd 
	GetMarcasdd %
(dd% &
)dd& '
{ee 	
varff 
marcasff 
=ff 
_mapperff  
.ff  !
Mapff! $
<ff$ %
Listff% )
<ff) *
MarcaViewModelff* 8
>ff8 9
>ff9 :
(ff: ;
_marcaServicesff; I
.ffI J
ListffJ N
)ffN O
;ffO P
returngg 
Jsongg 
(gg 
newgg 
{gg 
datagg  
=gg  !
marcasgg" (
}gg) *
)gg* +
;gg+ ,
}ii 	
}ll 
}mm Òu
UC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\PerfisController.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Controllers $
{ 
[ 
	Authorize 
( 
Roles 
= 
$str 
) 
]  
public 

class 
PerfisController !
:" #

Controller$ .
{ 
private 
RoleManager 
< 
IdentityRole (
>( )
	_roleMngr* 3
{4 5
get6 9
;9 :
}; <
public 
PerfisController 
(  
RoleManager  +
<+ ,
IdentityRole, 8
>8 9
RoleMngr: B
)B C
{ 	
	_roleMngr 
= 
RoleMngr  
;  !
} 	
public   
IActionResult   
Index   "
(  " #
)  # $
{!! 	
var&& 
roles&& 
=&& 
	_roleMngr&& !
.&&! "
Roles&&" '
.&&' (
Select&&( .
(&&. /
e&&/ 0
=>&&1 3
new&&4 7
RolesViewModel&&8 F
{&&G H
Id&&I K
=&&L M
e&&N O
.&&O P
Id&&P R
,&&R S
Name&&T X
=&&Y Z
e&&[ \
.&&\ ]
Name&&] a
}&&b c
)&&c d
;&&d e
return(( 
View(( 
((( 
roles(( 
)(( 
;(( 
})) 	
public-- 
async-- 
Task-- 
<-- 
ActionResult-- &
>--& '
GetAcoes--( 0
(--0 1
string--1 7
tela--8 <
,--< =
string--= C
RoleId--D J
)--J K
{--L M
Assembly// 
asm// 
=// 
Assembly// #
.//# $ 
GetExecutingAssembly//$ 8
(//8 9
)//9 :
;//: ;
var11  
controlleractionlist11 $
=11% &
asm11' *
.11* +
GetTypes11+ 3
(113 4
)114 5
.22 
Where22 
(22 
type22 
=>22 
typeof22 !
(22! "

Controller22" ,
)22, -
.22- .
IsAssignableFrom22. >
(22> ?
type22? C
)22C D
)22D E
.33 

SelectMany33 
(33 
type33 
=>33 
type33  $
.33$ %

GetMethods33% /
(33/ 0
BindingFlags330 <
.33< =
Instance33= E
|33F G
BindingFlags33H T
.33T U
DeclaredOnly33U a
|33b c
BindingFlags33d p
.33p q
Public33q w
)33w x
)33x y
.44 
Where44 
(44 
m44 
=>44 
!44 
m44 
.44 
GetCustomAttributes44 .
(44. /
typeof44/ 5
(445 6
System446 <
.44< =
Runtime44= D
.44D E
CompilerServices44E U
.44U V&
CompilerGeneratedAttribute44V p
)44p q
,44q r
true44s w
)44w x
.44x y
Any44y |
(44| }
)44} ~
)44~ 
.55 
Select55 
(55 
x55 
=>55 
new55 
{55 

Controller55 )
=55* +
x55, -
.55- .
DeclaringType55. ;
.55; <
Name55< @
,55@ A
Action55B H
=55I J
x55K L
.55L M
Name55M Q
,55Q R

ReturnType55S ]
=55^ _
x55` a
.55a b

ReturnType55b l
.55l m
Name55m q
,55q r

Attributes55s }
=55~ 
String
55Ä Ü
.
55Ü á
Join
55á ã
(
55ã å
$str
55å è
,
55è ê
x
55ë í
.
55í ì!
GetCustomAttributes
55ì ¶
(
55¶ ß
)
55ß ®
.
55® ©
Select
55© Ø
(
55Ø ∞
a
55∞ ±
=>
55≤ ¥
a
55µ ∂
.
55∂ ∑
GetType
55∑ æ
(
55æ ø
)
55ø ¿
.
55¿ ¡
Name
55¡ ≈
.
55≈ ∆
Replace
55∆ Õ
(
55Õ Œ
$str
55Œ Ÿ
,
55Ÿ ⁄
$str
55€ ›
)
55› ﬁ
)
55ﬁ ﬂ
)
55ﬂ ‡
}
55· ‚
)
55‚ „
.66 
OrderBy66 
(66 
x66 
=>66 
x66 
.66 

Controller66 &
)66& '
.66' (
ThenBy66( .
(66. /
x66/ 0
=>661 3
x664 5
.665 6
Action666 <
)66< =
.66= >
GroupBy66> E
(66E F
j66F G
=>66H J
new66K N
{66O P
j66Q R
.66R S

Controller66S ]
}66^ _
)66_ `
.77 
Select77 
(77 
e77 
=>77 
new77 
TelaViewModel77 *
{88 
Nome99 
=99 
e99 
.99 
Key99 
.99 

Controller99 '
.99' (
Replace99( /
(99/ 0
$str990 <
,99< =
$str99> @
)99@ A
,99A B
Acoes:: 
=:: 
e:: 
.:: 
Select::  
(::  !
v::! "
=>::# %
v::& '
.::' (
Action::( .
)::. /
.::/ 0
Distinct::0 8
(::8 9
)::9 :
.::: ;
ToList::; A
(::A B
)::B C
};; 
);; 
.;; 
ToList;; 
(;; 
);; 
;;; 
var== 
telaSelecioanda== 
===  ! 
controlleractionlist==" 6
.==6 7
FirstOrDefault==7 E
(==E F
f==F G
=>==H J
f==K L
.==L M
Nome==M Q
====R T
tela==U Y
)==Y Z
;==Z [
if>> 
(>> 
telaSelecioanda>> 
!=>>  "
null>># '
)>>' (
{?? 
var@@ 
role@@ 
=@@ 
	_roleMngr@@ $
.@@$ %
Roles@@% *
.@@* +
FirstOrDefault@@+ 9
(@@9 :
f@@: ;
=>@@< >
f@@? @
.@@@ A
Id@@A C
==@@D F
RoleId@@G M
)@@M N
;@@N O
varAA 
ClaimsxAA 
=AA 
awaitAA #
	_roleMngrAA$ -
.AA- .
GetClaimsAsyncAA. <
(AA< =
roleAA= A
)AAA B
;AAB C
ViewBagBB 
.BB 
acoesSelecionadasBB )
=BB* +
ClaimsxBB, 3
.BB3 4
SelectBB4 :
(BB: ;
eBB; <
=>BB< >
eBB> ?
.BB? @
ValueBB@ E
)BBE F
.BBF G
ToListBBG M
(BBM N
)BBN O
;BBO P
ViewBagCC 
.CC 
telaSelecionadaCC '
=CC( )
telaSelecioandaCC* 9
.CC9 :
NomeCC: >
;CC> ?
returnDD 
ViewDD 
(DD 
$strDD :
,DD: ;
telaSelecioandaDD< K
.DDK L
AcoesDDL Q
)DDQ R
;DDR S
}EE 
elseFF 
{FF 
returnGG 
ViewGG 
(GG 
$strGG :
,GG: ;
newGG< ?
ListGG@ D
<GGD E
stringGGE K
>GGK L
(GGL M
)GGM N
)GGN O
;GGO P
}HH 
}LL 	
publicNN 
IActionResultNN 
EditNN !
(NN! "
stringNN" (
idNN) +
)NN+ ,
{OO 	
varPP 
rolePP 
=PP 
	_roleMngrPP  
.PP  !
RolesPP! &
.PP& '
WherePP' ,
(PP, -
fPP- .
=>PP/ 1
fPP2 3
.PP3 4
IdPP4 6
==PP7 9
idPP: <
)PP< =
.PP= >
SelectPP> D
(PPD E
ePPE F
=>PPG I
newPPJ M
RolesViewModelPPN \
{PP] ^
IdPP_ a
=PPb c
ePPd e
.PPe f
IdPPf h
,PPh i
NamePPj n
=PPo p
ePPq r
.PPr s
NamePPs w
}PPx y
)PPy z
.PPz {
FirstOrDefault	PP{ â
(
PPâ ä
)
PPä ã
;
PPã å
AssemblyRR 
asmRR 
=RR 
AssemblyRR #
.RR# $ 
GetExecutingAssemblyRR$ 8
(RR8 9
)RR9 :
;RR: ;
varTT  
controlleractionlistTT $
=TT% &
asmTT' *
.TT* +
GetTypesTT+ 3
(TT3 4
)TT4 5
.UU 
WhereUU 
(UU 
typeUU 
=>UU  "
typeofUU# )
(UU) *

ControllerUU* 4
)UU4 5
.UU5 6
IsAssignableFromUU6 F
(UUF G
typeUUG K
)UUK L
)UUL M
.VV 

SelectManyVV 
(VV  
typeVV  $
=>VV% '
typeVV( ,
.VV, -

GetMethodsVV- 7
(VV7 8
BindingFlagsVV8 D
.VVD E
InstanceVVE M
|VVN O
BindingFlagsVVP \
.VV\ ]
DeclaredOnlyVV] i
|VVj k
BindingFlagsVVl x
.VVx y
PublicVVy 
)	VV Ä
)
VVÄ Å
.WW 
WhereWW 
(WW 
mWW 
=>WW 
!WW  !
mWW! "
.WW" #
GetCustomAttributesWW# 6
(WW6 7
typeofWW7 =
(WW= >
SystemWW> D
.WWD E
RuntimeWWE L
.WWL M
CompilerServicesWWM ]
.WW] ^&
CompilerGeneratedAttributeWW^ x
)WWx y
,WWy z
trueWW{ 
)	WW Ä
.
WWÄ Å
Any
WWÅ Ñ
(
WWÑ Ö
)
WWÖ Ü
)
WWÜ á
.XX 
SelectXX 
(XX 
xXX 
=>XX  
newXX! $
{XX% &

ControllerXX' 1
=XX2 3
xXX4 5
.XX5 6
DeclaringTypeXX6 C
.XXC D
NameXXD H
,XXH I
ActionXXJ P
=XXQ R
xXXS T
.XXT U
NameXXU Y
,XXY Z

ReturnTypeXX[ e
=XXf g
xXXh i
.XXi j

ReturnTypeXXj t
.XXt u
NameXXu y
,XXy z

Attributes	XX{ Ö
=
XXÜ á
String
XXà é
.
XXé è
Join
XXè ì
(
XXì î
$str
XXî ó
,
XXó ò
x
XXô ö
.
XXö õ!
GetCustomAttributes
XXõ Æ
(
XXÆ Ø
)
XXØ ∞
.
XX∞ ±
Select
XX± ∑
(
XX∑ ∏
a
XX∏ π
=>
XX∫ º
a
XXΩ æ
.
XXæ ø
GetType
XXø ∆
(
XX∆ «
)
XX« »
.
XX» …
Name
XX… Õ
.
XXÕ Œ
Replace
XXŒ ’
(
XX’ ÷
$str
XX÷ ·
,
XX· ‚
$str
XX„ Â
)
XXÂ Ê
)
XXÊ Á
)
XXÁ Ë
}
XXÈ Í
)
XXÍ Î
.YY 
OrderByYY 
(YY 
xYY 
=>YY !
xYY" #
.YY# $

ControllerYY$ .
)YY. /
.YY/ 0
ThenByYY0 6
(YY6 7
xYY7 8
=>YY9 ;
xYY< =
.YY= >
ActionYY> D
)YYD E
.YYE F
GroupByYYF M
(YYM N
jYYN O
=>YYP R
newYYS V
{YYW X
jYYY Z
.YYZ [

ControllerYY[ e
}YYf g
)YYg h
.ZZ 
SelectZZ 
(ZZ 
eZZ 
=>ZZ  
newZZ! $
TelaViewModelZZ% 2
{[[ 
Nome\\ 
=\\ 
e\\  
.\\  !
Key\\! $
.\\$ %

Controller\\% /
.\\/ 0
Replace\\0 7
(\\7 8
$str\\8 D
,\\D E
$str\\F H
)\\H I
,\\I J
Acoes]] 
=]] 
e]]  !
.]]! "
Select]]" (
(]]( )
v]]) *
=>]]+ -
v]]. /
.]]/ 0
Action]]0 6
)]]6 7
.]]7 8
Distinct]]8 @
(]]@ A
)]]A B
.]]B C
ToList]]C I
(]]I J
)]]J K
}^^ 
)^^ 
.^^ 
ToList^^ 
(^^ 
)^^ 
;^^  
ViewBagaa 
.aa 

Controlleraa 
=aa   
controlleractionlistaa! 5
;aa5 6
ViewBagbb 
.bb 
RoleNamebb 
=bb 
rolebb #
.bb# $
Namebb$ (
;bb( )
ViewBagcc 
.cc 
RoleIdcc 
=cc 
rolecc !
.cc! "
Idcc" $
;cc$ %
returnee 
Viewee 
(ee  
controlleractionlistee ,
)ee, -
;ee- .
}ff 	
[hh 	
HttpPosthh	 
]hh 
publicjj 
asyncjj 
Taskjj 
<jj 
ActionResultjj &
>jj& '
Editjj( ,
(jj, -
PerfilViewModeljj- <
perfiljj= C
)jjC D
{jjE F
varkk 
rolekk 
=kk 
	_roleMngrkk  
.kk  !
Roleskk! &
.kk& '
FirstOrDefaultkk' 5
(kk5 6
fkk6 7
=>kk8 :
fkk; <
.kk< =
Idkk= ?
==kk@ B
perfilkkC I
.kkI J
IdkkJ L
)kkL M
;kkM N
varmm 
storedClaimsmm 
=mm 
awaitmm $
	_roleMngrmm% .
.mm. /
GetClaimsAsyncmm/ =
(mm= >
rolemm> B
)mmB C
;mmC D
foreachpp 
(pp 
varpp 
itempp 
inpp  
storedClaimspp! -
)pp- .
{qq 
	_roleMngrrr 
.rr 
RemoveClaimAsyncrr *
(rr* +
rolerr+ /
,rr/ 0
itemrr1 5
)rr5 6
.rr6 7
Waitrr7 ;
(rr; <
)rr< =
;rr= >
}uu 
foreachxx 
(xx 
varxx 
itemxx 
inxx  
perfilxx! '
.xx' (
Claimsxx( .
)xx. /
{yy 
	_roleMngrzz 
.zz 
AddClaimAsynczz '
(zz' (
rolezz( ,
,zz, -
newzz. 1
Claimzz2 7
(zz7 8
itemzz8 <
,zz< =
itemzz> B
)zzB C
)zzC D
.zzD E
WaitzzE I
(zzI J
)zzJ K
;zzK L
}|| 
return~~ 
Ok~~ 
(~~ 
)~~ 
;~~ 
} 	
}
ÇÇ 
}ÉÉ ¶<
UC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\PessoaController.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Controllers $
{ 
public 

class 
PessoaController !
:" #

Controller$ .
{ 
private 
readonly 
IPessoaServices (
_pessoaServices) 8
;8 9
private 
readonly 
IFisicaServices (
_fisicaServices) 8
;8 9
private 
readonly 
IJuridicaServices *
_juridicaServices+ <
;< =
private 
readonly 
IMapper  
_mapper! (
;( )
public 
PessoaController 
(  
IPessoaServices  /
pessoaServices0 >
,> ?
IFisicaServices .
fisicaServices/ =
,= >
IJuridicaServices! 2
juridicaServices3 C
,C D
IMapper &
mapper' -
)- .
{ 	
_pessoaServices 
= 
pessoaServices ,
;, -
_fisicaServices 
= 
fisicaServices ,
;, -
_juridicaServices 
= 
juridicaServices  0
;0 1
_mapper   
=   
mapper   
;   
}!! 	
public$$ 
ActionResult$$ 
Index$$ !
($$! "
)$$" #
{%% 	
return&& 
View&& 
(&& 
)&& 
;&& 
}'' 	
public** 
ActionResult** 
Details** #
(**# $
int**$ '
id**( *
)*** +
{++ 	
return,, 
View,, 
(,, 
),, 
;,, 
}-- 	
public00 
ActionResult00 
Create00 "
(00" #
)00# $
{11 	
return22 
View22 
(22 
)22 
;22 
}33 	
[66 	
HttpPost66	 
]66 
public88 
ActionResult88 
Create88 "
(88" #
PessoaViewModel88# 2
model883 8
)888 9
{99 	
if;; 
(;; 
model;; 
.;; 

TipoPessoa;;  
==;;  "
$num;;" #
);;# $
{<< 
var== 
fisica== 
=== 
_mapper== $
.==$ %
Map==% (
<==( )
PessoaViewModel==) 8
,==8 9
Fisica==: @
>==@ A
(==A B
model==B G
)==G H
;==H I
_fisicaServices>> 
.>>  
	Adicionar>>  )
(>>) *
fisica>>* 0
)>>0 1
;>>1 2
}?? 
else@@ 
{@@ 
varAA 
juridicaAA 
=AA 
_mapperAA &
.AA& '
MapAA' *
<AA* +
PessoaViewModelAA+ :
,AA: ;
JuridicaAA< D
>AAD E
(AAE F
modelAAF K
)AAK L
;AAL M
_juridicaServicesBB !
.BB! "
	AdicionarBB" +
(BB+ ,
juridicaBB, 4
)BB4 5
;BB5 6
}CC 
tryLL 
{MM 
returnPP 
RedirectToActionPP '
(PP' (
nameofPP( .
(PP. /
IndexPP/ 4
)PP4 5
)PP5 6
;PP6 7
}QQ 
catchRR 
{SS 
returnTT 
ViewTT 
(TT 
)TT 
;TT 
}UU 
}VV 	
publicYY 
ActionResultYY 
EditYY  
(YY  !
intYY! $
idYY% '
)YY' (
{ZZ 	
var[[ 
pessoa[[ 
=[[ 
_pessoaServices[[ (
.[[( )

ObterPorId[[) 3
([[3 4
id[[4 6
)[[6 7
;[[7 8
return\\ 
Json\\ 
(\\ 
pessoa\\ 
)\\ 
;\\  
}]] 	
[`` 	
HttpPost``	 
]`` 
publicbb 
ActionResultbb 
Editbb  
(bb  !
PessoaViewModelbb! 0
modelbb1 6
)bb6 7
{cc 	
trygg 
{hh 
ifoo 
(oo 
modeloo 
.oo 

TipoPessoaoo $
==oo% '
$numoo' (
)oo( )
{pp 
varqq 
fisicaqq 
=qq  
_mapperqq! (
.qq( )
Mapqq) ,
<qq, -
PessoaViewModelqq- <
,qq< =
Fisicaqq> D
>qqD E
(qqE F
modelqqF K
)qqK L
;qqL M
_fisicaServicesrr #
.rr# $
	Atualizarrr$ -
(rr- .
fisicarr. 4
)rr4 5
;rr5 6
}ss 
elsett 
{uu 
varvv 
juridicavv  
=vv! "
_mappervv# *
.vv* +
Mapvv+ .
<vv. /
PessoaViewModelvv/ >
,vv> ?
Juridicavv@ H
>vvH I
(vvI J
modelvvJ O
)vvO P
;vvP Q
_juridicaServicesxx %
.xx% &
	Atualizarxx& /
(xx/ 0
juridicaxx0 8
)xx8 9
;xx9 :
}yy 
return 
RedirectToAction '
(' (
nameof( .
(. /
Index/ 4
)4 5
)5 6
;6 7
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
Exeption
ÅÅ 
e
ÅÅ 
)
ÅÅ 
{
ÇÇ 
return
ÉÉ 
View
ÉÉ 
(
ÉÉ 
e
ÉÉ 
.
ÉÉ 
Message
ÉÉ %
)
ÉÉ% &
;
ÉÉ& '
}
ÑÑ 
}
ÖÖ 	
public
àà 
ActionResult
àà 
Delete
àà "
(
àà" #
int
àà# &
id
àà' )
)
àà) *
{
ââ 	
return
ää 
View
ää 
(
ää 
)
ää 
;
ää 
}
ãã 	
[
éé 	
HttpPost
éé	 
]
éé 
[
èè 	&
ValidateAntiForgeryToken
èè	 !
]
èè! "
public
êê 
ActionResult
êê 
Delete
êê "
(
êê" #
int
êê# &
id
êê' )
,
êê) *
IFormCollection
êê+ :

collection
êê; E
)
êêE F
{
ëë 	
try
íí 
{
ìì 
return
ññ 
RedirectToAction
ññ '
(
ññ' (
nameof
ññ( .
(
ññ. /
Index
ññ/ 4
)
ññ4 5
)
ññ5 6
;
ññ6 7
}
óó 
catch
òò 
{
ôô 
return
öö 
View
öö 
(
öö 
)
öö 
;
öö 
}
õõ 
}
úú 	
public
ûû 
ActionResult
ûû 

GetPessoas
ûû &
(
ûû& '
)
ûû' (
{
üü 	
var
¢¢ 
pessoas
¢¢ 
=
¢¢ 
_mapper
¢¢ !
.
¢¢! "
Map
¢¢" %
<
¢¢% &
List
¢¢& *
<
¢¢* +
PessoaViewModel
¢¢+ :
>
¢¢: ;
>
¢¢; <
(
¢¢< =
_pessoaServices
¢¢= L
.
¢¢L M
List
¢¢M Q
)
¢¢Q R
;
¢¢R S
return
§§ 
Json
§§ 
(
§§ 
new
§§ 
{
§§ 
data
§§ "
=
§§# $
pessoas
§§% ,
}
§§- .
)
§§. /
;
§§/ 0
}
¶¶ 	
}
ßß 
}®® √
YC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\RelatoriosController.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
. 
Controllers '
{		 
public

 

class

  
RelatoriosController

 %
:

& '

Controller

( 2
{ 
[ 	
	Authorize	 
( 
Roles 
= 
$str *
)* +
]+ ,
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Detalhes %
(% &
)& '
{ 	
return 
View 
( 
) 
; 
} 	
} 
} Ï
WC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Controllers\UsuariosController.cs
	namespace		 	
martloc		
 
.		 
UI		 
.		 
Web		 
.		 
Controllers		 $
{

 
public 

class 
UsuariosController #
:$ %

Controller& 0
{ 
private 
readonly 
IUsuarioServices )
_usuarioServices* :
;: ;
public 
UsuariosController !
(! "
IUsuarioServices" 2
usuarioServices3 B
)B C
{ 	
_usuarioServices 
= 
usuarioServices .
;. /
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
var 
dd 
= 
_usuarioServices %
.% &
List& *
.* +
Select+ 1
(1 2
f2 3
=>4 6
new7 :
UsuarioViewModel; K
{L M
IdN P
=Q R
fS T
.T U
IdU W
,W X
NomeY ]
=^ _
f` a
.a b
UserNameb j
}k l
)l m
;m n
return 
View 
( 
_usuarioServices (
.( )
List) -
.- .
Select. 4
(4 5
f5 6
=>6 8
new9 <
UsuarioViewModel= M
{N O
IdO Q
=Q R
fR S
.S T
IdT V
,V W
NomeW [
=[ \
f\ ]
.] ^
UserName^ f
}g h
)h i
)i j
;j k
} 	
public 
IActionResult 
Edit !
(! "
string" (
id) +
)+ ,
{ 	
return"" 
View"" 
("" 
_usuarioServices"" (
.""( )
List"") -
.""- .
Where"". 3
(""3 4
e""4 5
=>""5 7
e""7 8
.""8 9
Id""9 ;
==""; =
id""= ?
)""? @
.""@ A
Select""A G
(""G H
f""H I
=>""J L
new""M P
UsuarioViewModel""Q a
{""b c
Id""d f
=""g h
f""i j
.""j k
Id""k m
,""m n
Nome""o s
=""t u
f""v w
.""w x
UserName	""x Ä
}
""Å Ç
)
""Ç É
.
""É Ñ
FirstOrDefault
""Ñ í
(
""í ì
)
""ì î
)
""î ï
;
""ï ñ
}$$ 	
}%% 
}&& ©
RC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\CategoriaViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public		 

class		 
CategoriaViewModel		 #
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
Status 
Status 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	Descricao 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} •

PC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\ContatoViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public		 

class		 
ContatoViewModel		 !
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
PessoaId 
{ 
get !
;! "
set# &
;& '
}( )
public 
PessoaViewModel 
Pessoa %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} Á
TC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\EquipamentoViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public		 

class		  
EquipamentoViewModel		 %
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
int 
Status 
{ 
get 
;  
set! $
;$ %
}& '
[ 	
Column	 
( 
TypeName 
= 
$str *
)* +
]+ ,
public 
decimal 
ValorQuinzenal %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 	
Column	 
( 
TypeName 
= 
$str *
)* +
]+ ,
public 
decimal 
ValorMensal "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
Column	 
( 
TypeName 
= 
$str *
)* +
]+ ,
public 
decimal 
ValorDiario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
	Descricao 
{  !
get" %
;% &
set' *
;* +
}, -
public 
CategoriaViewModel !
	Categoria" +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
MarcaViewModel 
Marca #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
virtual 
ICollection "
<" #!
LocacaoItensViewModel# 8
>8 9
LocacaoItens: F
{G H
getI L
;L M
setN Q
;Q R
}S T
} 
} Ÿ
NC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\ErrorViewModel.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
. 
Models "
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
bool		 
ShowRequestId		 !
=>		" $
!		% &
string		& ,
.		, -
IsNullOrEmpty		- :
(		: ;
	RequestId		; D
)		D E
;		E F
}

 
} ≈
OC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\FisicaViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public 	
class 
FisicaViewModel  
{		 
public

 
string

 
Cpf

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
Rg 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Apelido 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
DataNascimento &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} Ç	
QC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\JuridicaViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public 

class 
JuridicaViewModel "
{		 
public

 
string

 
Cnpj

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
NomeFantasia "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
InscricaoMunicipal (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
string 
InscricaoEstadual '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DateTime 
DataFundacao $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} Ô
UC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\LocacaoItensViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public 

class !
LocacaoItensViewModel &
{		 
public

 
int

 
	LocacaoId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
int 
EquipamentoId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
LocacaoViewModel 
Locacao  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public  
EquipamentoViewModel #
Equipamento$ /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
} 
} Â

PC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\LocacaoViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public		 

class		 
LocacaoViewModel		 !
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
Status 
Status 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	Descricao 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTime 
DataContrato $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
ICollection "
<" #!
LocacaoItensViewModel# 8
>8 9
LocacaoItens: F
{G H
getI L
;L M
setN Q
;Q R
}S T
public 
PessoaViewModel 
Pessoa %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} °
NC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\MarcaViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public		 

class		 
MarcaViewModel		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
Status 
Status 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	Descricao 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} —
OC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\PerfilViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public 

class 
PerfilViewModel  
{		 
public

 
string

 
Id

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
public 
List 
< 
string 
> 
Claims "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ∆
OC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\PessoaViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public 

class 
PessoaViewModel  
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 

TipoPessoa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	NomeRazao 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Fone 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Endereco 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Cnpj 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
NomeFantasia "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
InscricaoMunicipal (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
string 
InscricaoEstadual '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DateTime 
DataFundacao $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
Cpf 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Rg 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Apelido 
{ 
get  #
;# $
set% (
;( )
}* +
public   
DateTime   
DataNascimento   &
{  ' (
get  ) ,
;  , -
set  . 1
;  1 2
}  3 4
public## 
ICollection## 
<## 
ContatoViewModel## +
>##+ ,
Contatos##- 5
{##6 7
get##8 ;
;##; <
set##= @
;##@ A
}##B C
}$$ 
}%% à
NC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\RolesViewModel.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
. 
Models "
{ 
public 

class 
RolesViewModel 
{		 
public

 
string

 
Id

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ∂
MC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\TelaViewModel.cs
	namespace 	
martloc
 
. 
UI 
. 
Web 
. 
Models 
{ 
public 

class 
TelaViewModel 
{		 
public

 
string

 
Nome

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
List 
< 
string 
> 
Acoes !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} å
PC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Models\UsuarioViewModel.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
. 
Models "
{ 
public 

class 
UsuarioViewModel !
{		 
public

 
string

 
Id

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ≤
GC:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\NewtonsoftJson.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
{ 
internal 
class 
NewtonsoftJson !
{ 
} 
} ˜
@C:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Program.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
var 
host 
= 
CreateHostBuilder (
(( )
args) -
)- .
.. /
Build/ 4
(4 5
)5 6
;6 7
using 
( 
var 
scope 
= 
host "
." #
Services# +
.+ ,
CreateScope, 7
(7 8
)8 9
)9 :
{; <
var 
services 
= 
scope $
.$ %
ServiceProvider% 4
;4 5
try 
{ 
var 
context 
=  !
services" *
.* +
GetRequiredService+ =
<= >
BackendContext> L
>L M
(M N
)N O
;O P
DbInitializer !
.! "

Initialize" ,
(, -
context- 4
)4 5
;5 6
} 
catch 
( 
	Exception  
ex! #
)# $
{ 
var 
logger 
=  
services! )
.) *
GetRequiredService* <
<< =
ILogger= D
<D E
ProgramE L
>L M
>M N
(N O
)O P
;P Q
logger 
. 
LogError #
(# $
ex$ &
,& '
$str( X
)X Y
;Y Z
throw   
;   
}!! 
}## 
host$$ 
.$$ 
Run$$ 
($$ 
)$$ 
;$$ 
}&& 	
public(( 
static(( 
IHostBuilder(( "
CreateHostBuilder((# 4
(((4 5
string((5 ;
[((; <
]((< =
args((> B
)((B C
=>((D F
Host)) 
.))  
CreateDefaultBuilder)) %
())% &
args))& *
)))* +
.** $
ConfigureWebHostDefaults** )
(**) *

webBuilder*** 4
=>**5 7
{++ 

webBuilder// 
.// 
UseUrls// &
(//& '
$str//' <
)//< =
;//= >

webBuilder11 
.11 

UseStartup11 )
<11) *
Startup11* 1
>111 2
(112 3
)113 4
;114 5
}22 
)22 
;22 
}33 
}44 ÚÖ
@C:\Users\Mauricio\source\repos\martloc\martloc.UI.Web\Startup.cs
	namespace 	

financeiro
 
. 
UI 
. 
Web 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public!! 
IConfiguration!! 
Configuration!! +
{!!, -
get!!. 1
;!!1 2
}!!3 4
public$$ 
void$$ 
ConfigureServices$$ %
($$% &
IServiceCollection$$& 8
services$$9 A
)$$A B
{%% 	
services'' 
.'' 
AddIdentity''  
<''  !
Usuario''! (
,''( )
IdentityRole''* 6
>''6 7
(''7 8
options''8 ?
=>''? A
{''B C
options(( 
.(( 
Password((  
.((  !
RequiredLength((! /
=((0 1
$num((2 3
;((3 4
options)) 
.)) 
Password))  
.))  !
RequireLowercase))! 1
=))2 3
false))4 9
;))9 :
options** 
.** 
Password**  
.**  !
RequireUppercase**! 1
=**2 3
false**4 9
;**9 :
options++ 
.++ 
Password++  
.++  !"
RequireNonAlphanumeric++! 7
=++8 9
false++: ?
;++? @
options,, 
.,, 
Password,,  
.,,  !
RequireDigit,,! -
=,,. /
false,,0 5
;,,5 6
}.. 
).. 
... 
AddDefaultUI.. 
(.. 
).. 
... $
AddDefaultTokenProviders.. 6
(..6 7
)..7 8
...8 9$
AddEntityFrameworkStores..9 Q
<..Q R
BackendContext..R `
>..` a
(..a b
)..b c
;..c d
services44 
.44 
AddDbContext44 !
<44! "
BackendContext44" 0
>440 1
(441 2
options442 9
=>44: <
options55 
.55 
UseMySql55  
(55  !
Configuration66 !
.66! "
GetConnectionString66" 5
(665 6
$str666 I
)66I J
)66J K
)66K L
;66L M
servicesBB 
.BB #
AddControllersWithViewsBB ,
(BB, -
)BB- .
;BB. /
servicesCC 
.CC 
AddRazorPagesCC "
(CC" #
)CC# $
;CC$ %
servicesFF 
.FF 
AddAuthorizationFF !
(FF! "
optionsFF" )
=>FF* ,
{GG 
optionsHH 
.HH 
	AddPolicyHH !
(HH! "
$strHH" 2
,HH2 3
policyHH4 :
=>HH; =
policyHH> D
.HHD E
RequireClaimHHE Q
(HHQ R
$strHHR `
)HH` a
)HHa b
;HHb c
optionsII 
.II 
	AddPolicyII !
(II! "
$strII" 3
,II3 4
policyII5 ;
=>II< >
policyII? E
.IIE F
RequireClaimIIF R
(IIR S
$strIIS _
)II_ `
)II` a
;IIa b
optionsJJ 
.JJ 
	AddPolicyJJ !
(JJ! "
$strJJ" 4
,JJ4 5
policyJJ6 <
=>JJ= ?
policyJJ@ F
.JJF G
RequireClaimJJG S
(JJS T
$strJJT b
)JJb c
)JJc d
;JJd e
optionsKK 
.KK 
	AddPolicyKK !
(KK! "
$strKK" 6
,KK6 7
policyKK8 >
=>KK? A
policyKKB H
.KKH I
RequireClaimKKI U
(KKU V
$strKKV g
)KKg h
)KKh i
;KKi j
optionsLL 
.LL 
	AddPolicyLL !
(LL! "
$strLL" 4
,LL4 5
policyLL6 <
=>LL= ?
policyLL@ F
.LLF G
RequireClaimLLG S
(LLS T
$strLLT a
)LLa b
)LLb c
;LLc d
optionsPP 
.PP 
	AddPolicyPP !
(PP! "
$strPP" 4
,PP4 5
policyPP6 <
=>PP= ?
policyPP@ F
.PPF G
RequireClaimPPG S
(PPS T
$strPPT a
)PPa b
)PPb c
;PPc d
optionsRR 
.RR 
	AddPolicyRR !
(RR! "
$strRR" 4
,RR4 5
policyRR6 <
=>RR= ?
policyRR@ F
.RRF G
RequireClaimRRG S
(RRS T
$strRRT b
)RRb c
)RRc d
;RRd e
optionsTT 
.TT 
	AddPolicyTT !
(TT! "
$strTT" 8
,TT8 9
policyTT: @
=>TTA C
policyTTE K
.TTK L$
RequireAuthenticatedUserTTL d
(TTd e
)TTe f
)TTf g
;TTh i
}YY 
)YY 
;YY 
servicesgg 
.gg 
AddMvcgg 
(gg 
)gg 
.hh 
AddNewtonsoftJsonhh !
(hh! "
xhh" #
=>hh$ &
xhh' (
.hh( )
SerializerSettingshh) ;
.hh; <!
ReferenceLoopHandlinghh< Q
=hhR S!
ReferenceLoopHandlinghhT i
.hhi j
Ignorehhj p
)hhp q
;hhq r
servicespp 
.pp 
	Configurepp 
<pp #
ForwardedHeadersOptionspp 6
>pp6 7
(pp7 8
optionspp8 ?
=>pp@ B
{qq 
optionsrr 
.rr 
KnownProxiesrr $
.rr$ %
Addrr% (
(rr( )
	IPAddressrr) 2
.rr2 3
Parserr3 8
(rr8 9
$strrr9 E
)rrE F
)rrF G
;rrG H
}ss 
)ss 
;ss 
servicesyy 
.yy &
ConfigureApplicationCookieyy /
(yy/ 0
optionsyy0 7
=>yy8 :
optionsyy; B
.yyB C
	LoginPathyyC L
=yyM N
$stryyO _
)yy_ `
;yy` a
services{{ 
.{{ &
ConfigureApplicationCookie{{ /
({{/ 0
options{{0 7
=>{{8 :
options{{; B
.{{B C
AccessDeniedPath{{C S
={{T U
$str{{V i
){{i j
;{{j k
services 
. 
AddTransient !
(! "
typeof" (
(( )
IRepository) 4
<4 5
>5 6
)6 7
,7 8
typeof9 ?
(? @

Repository@ J
<J K
>K L
)L M
)M N
;N O
services
ÄÄ 
.
ÄÄ 
AddTransient
ÄÄ !
(
ÄÄ! "
typeof
ÄÄ" (
(
ÄÄ( ) 
IClienteRepository
ÄÄ) ;
)
ÄÄ; <
,
ÄÄ< =
typeof
ÄÄ> D
(
ÄÄD E
ClienteRepository
ÄÄE V
)
ÄÄV W
)
ÄÄW X
;
ÄÄX Y
services
ÅÅ 
.
ÅÅ 
AddTransient
ÅÅ !
(
ÅÅ! "
typeof
ÅÅ" (
(
ÅÅ( ) 
ILocacaoRepository
ÅÅ) ;
)
ÅÅ; <
,
ÅÅ< =
typeof
ÅÅ> D
(
ÅÅD E
LocacaoRepository
ÅÅE V
)
ÅÅV W
)
ÅÅW X
;
ÅÅX Y
services
ÑÑ 
.
ÑÑ 
AddTransient
ÑÑ !
(
ÑÑ! "
typeof
ÑÑ" (
(
ÑÑ( )
IPessoaServices
ÑÑ) 8
)
ÑÑ8 9
,
ÑÑ9 :
typeof
ÑÑ; A
(
ÑÑA B
PessoaServices
ÑÑB P
)
ÑÑP Q
)
ÑÑQ R
;
ÑÑR S
services
ÖÖ 
.
ÖÖ 
AddTransient
ÖÖ !
(
ÖÖ! "
typeof
ÖÖ" (
(
ÖÖ( )
IMarcaServices
ÖÖ) 7
)
ÖÖ7 8
,
ÖÖ8 9
typeof
ÖÖ: @
(
ÖÖ@ A
MarcaServices
ÖÖA N
)
ÖÖN O
)
ÖÖO P
;
ÖÖP Q
services
ÜÜ 
.
ÜÜ 
AddTransient
ÜÜ !
(
ÜÜ! "
typeof
ÜÜ" (
(
ÜÜ( )
IClienteServices
ÜÜ) 9
)
ÜÜ9 :
,
ÜÜ: ;
typeof
ÜÜ< B
(
ÜÜB C
ClienteServices
ÜÜC R
)
ÜÜR S
)
ÜÜS T
;
ÜÜT U
services
áá 
.
áá 
AddTransient
áá !
(
áá! "
typeof
áá" (
(
áá( )
IUsuarioServices
áá) 9
)
áá9 :
,
áá: ;
typeof
áá< B
(
ááB C
UsuarioServices
ááC R
)
ááR S
)
ááS T
;
ááT U
services
àà 
.
àà 
AddTransient
àà !
(
àà! "
typeof
àà" (
(
àà( )
ILocacaoServices
àà) 9
)
àà9 :
,
àà: ;
typeof
àà< B
(
ààB C
LocacaoServices
ààC R
)
ààR S
)
ààS T
;
ààT U
services
ââ 
.
ââ 
AddTransient
ââ !
(
ââ! "
typeof
ââ" (
(
ââ( )
IFisicaServices
ââ) 8
)
ââ8 9
,
ââ9 :
typeof
ââ; A
(
ââA B
FisicaServices
ââB P
)
ââP Q
)
ââQ R
;
ââR S
services
ää 
.
ää 
AddTransient
ää !
(
ää! "
typeof
ää" (
(
ää( )
IJuridicaServices
ää) :
)
ää: ;
,
ää; <
typeof
ää= C
(
ääC D
JuridicaServices
ääD T
)
ääT U
)
ääU V
;
ääV W
var
åå 
config
åå 
=
åå 
new
åå 

AutoMapper
åå '
.
åå' (!
MapperConfiguration
åå( ;
(
åå; <
cfg
åå< ?
=>
åå@ B
{
çç 
cfg
éé 
.
éé 
	CreateMap
éé 
<
éé 
UsuarioViewModel
éé .
,
éé. /
Usuario
éé0 7
>
éé7 8
(
éé8 9
)
éé9 :
;
éé: ;
cfg
êê 
.
êê 
	CreateMap
êê 
<
êê 
Locacao
êê %
,
êê% &
LocacaoViewModel
êê' 7
>
êê7 8
(
êê8 9
)
êê9 :
;
êê: ;
cfg
ëë 
.
ëë 
	CreateMap
ëë 
<
ëë 
LocacaoItens
ëë *
,
ëë* +#
LocacaoItensViewModel
ëë, A
>
ëëA B
(
ëëB C
)
ëëC D
;
ëëD E
cfg
íí 
.
íí 
	CreateMap
íí 
<
íí 
Pessoa
íí $
,
íí$ %
PessoaViewModel
íí& 5
>
íí5 6
(
íí6 7
)
íí7 8
;
íí8 9
cfg
ìì 
.
ìì 
	CreateMap
ìì 
<
ìì 
Contato
ìì %
,
ìì% &
ContatoViewModel
ìì' 7
>
ìì7 8
(
ìì8 9
)
ìì9 :
;
ìì: ;
cfg
îî 
.
îî 
	CreateMap
îî 
<
îî 
Equipamento
îî )
,
îî) *"
EquipamentoViewModel
îî+ ?
>
îî? @
(
îî@ A
)
îîA B
;
îîB C
cfg
ïï 
.
ïï 
	CreateMap
ïï 
<
ïï 
Marca
ïï #
,
ïï# $
MarcaViewModel
ïï% 3
>
ïï3 4
(
ïï4 5
)
ïï5 6
;
ïï6 7
cfg
ññ 
.
ññ 
	CreateMap
ññ 
<
ññ 
MarcaViewModel
ññ ,
,
ññ- .
Marca
ññ/ 4
>
ññ4 5
(
ññ5 6
)
ññ6 7
;
ññ7 8
cfg
óó 
.
óó 
	CreateMap
óó 
<
óó 
	Categoria
óó '
,
óó' ( 
CategoriaViewModel
óó) ;
>
óó; <
(
óó< =
)
óó= >
;
óó> ?
cfg
ôô 
.
ôô 
	CreateMap
ôô 
<
ôô 
Pessoa
ôô $
,
ôô$ %
PessoaViewModel
ôô& 5
>
ôô5 6
(
ôô6 7
)
ôô7 8
;
ôô8 9
cfg
öö 
.
öö 
	CreateMap
öö 
<
öö 
PessoaViewModel
öö -
,
öö- .
Pessoa
öö/ 5
>
öö5 6
(
öö6 7
)
öö7 8
;
öö8 9
cfg
ùù 
.
ùù 
	CreateMap
ùù 
<
ùù 
Fisica
ùù $
,
ùù$ %
FisicaViewModel
ùù& 5
>
ùù5 6
(
ùù6 7
)
ùù7 8
;
ùù8 9
cfg
ûû 
.
ûû 
	CreateMap
ûû 
<
ûû 
FisicaViewModel
ûû -
,
ûû- .
Fisica
ûû/ 5
>
ûû5 6
(
ûû6 7
)
ûû7 8
;
ûû8 9
cfg
†† 
.
†† 
	CreateMap
†† 
<
†† 
Juridica
†† &
,
††& '
JuridicaViewModel
††( 9
>
††9 :
(
††: ;
)
††; <
;
††< =
cfg
°° 
.
°° 
	CreateMap
°° 
<
°° 
JuridicaViewModel
°° /
,
°°/ 0
Juridica
°°1 9
>
°°9 :
(
°°: ;
)
°°; <
;
°°< =
cfg
§§ 
.
§§ 
	CreateMap
§§ 
<
§§ 
Fisica
§§ $
,
§§$ %
PessoaViewModel
§§& 5
>
§§5 6
(
§§6 7
)
§§7 8
;
§§8 9
cfg
•• 
.
•• 
	CreateMap
•• 
<
•• 
PessoaViewModel
•• -
,
••- .
Fisica
••/ 5
>
••5 6
(
••6 7
)
••7 8
;
••8 9
cfg
ßß 
.
ßß 
	CreateMap
ßß 
<
ßß 
Juridica
ßß &
,
ßß& '
PessoaViewModel
ßß( 7
>
ßß7 8
(
ßß8 9
)
ßß9 :
;
ßß: ;
cfg
®® 
.
®® 
	CreateMap
®® 
<
®® 
PessoaViewModel
®® -
,
®®- .
Juridica
®®/ 7
>
®®7 8
(
®®8 9
)
®®9 :
;
®®: ;
}
™™ 
)
™™ 
;
™™ 
IMapper
´´ 
mapper
´´ 
=
´´ 
config
´´ #
.
´´# $
CreateMapper
´´$ 0
(
´´0 1
)
´´1 2
;
´´2 3
services
≠≠ 
.
≠≠ 
AddSingleton
≠≠ !
(
≠≠! "
mapper
≠≠" (
)
≠≠( )
;
≠≠) *
}
∞∞ 	
public
≥≥ 
void
≥≥ 
	Configure
≥≥ 
(
≥≥ !
IApplicationBuilder
≥≥ 1
app
≥≥2 5
,
≥≥5 6!
IWebHostEnvironment
≥≥7 J
env
≥≥K N
)
≥≥N O
{
¥¥ 	
if
µµ 
(
µµ 
env
µµ 
.
µµ 
IsDevelopment
µµ !
(
µµ! "
)
µµ" #
)
µµ# $
{
∂∂ 
app
∑∑ 
.
∑∑ '
UseDeveloperExceptionPage
∑∑ -
(
∑∑- .
)
∑∑. /
;
∑∑/ 0
app
∏∏ 
.
∏∏ "
UseDatabaseErrorPage
∏∏ (
(
∏∏( )
)
∏∏) *
;
∏∏* +
}
ππ 
else
∫∫ 
{
ªª 
app
ºº 
.
ºº !
UseExceptionHandler
ºº '
(
ºº' (
$str
ºº( 5
)
ºº5 6
;
ºº6 7
app
øø 
.
øø 
UseHsts
øø 
(
øø 
)
øø 
;
øø 
}
¿¿ 
app
¡¡ 
.
¡¡ !
UseHttpsRedirection
¡¡ #
(
¡¡# $
)
¡¡$ %
;
¡¡% &
app
¬¬ 
.
¬¬ 
UseStaticFiles
¬¬ 
(
¬¬ 
)
¬¬  
;
¬¬  !
app
ƒƒ 
.
ƒƒ 

UseRouting
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ 
app
∆∆ 
.
∆∆ !
UseForwardedHeaders
∆∆ #
(
∆∆# $
new
∆∆$ '%
ForwardedHeadersOptions
∆∆( ?
{
«« 
ForwardedHeaders
»»  
=
»»! "
ForwardedHeaders
»»# 3
.
»»3 4
XForwardedFor
»»4 A
|
»»B C
ForwardedHeaders
»»D T
.
»»T U
XForwardedProto
»»U d
}
…… 
)
…… 
;
…… 
app
ÀÀ 
.
ÀÀ 
UseAuthentication
ÀÀ !
(
ÀÀ! "
)
ÀÀ" #
;
ÀÀ# $
app
ÃÃ 
.
ÃÃ 
UseAuthorization
ÃÃ  
(
ÃÃ  !
)
ÃÃ! "
;
ÃÃ" #
app
ŒŒ 
.
ŒŒ 
UseEndpoints
ŒŒ 
(
ŒŒ 
	endpoints
ŒŒ &
=>
ŒŒ' )
{
œœ 
	endpoints
–– 
.
––  
MapControllerRoute
–– ,
(
––, -
name
—— 
:
—— 
$str
—— #
,
——# $
pattern
““ 
:
““ 
$str
““ E
)
““E F
;
““F G
	endpoints
”” 
.
”” 
MapRazorPages
”” '
(
””' (
)
””( )
;
””) *
}
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 	
}
ŸŸ 
}⁄⁄ 